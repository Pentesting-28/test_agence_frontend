{"ast":null,"code":"import Swal from 'sweetalert2';\nimport PerformanceComponent from './PerformanceConsultants';\nimport GraphBarComponent from './GraphBar';\nimport GraphPizzaComponent from './GraphPizza';\nexport default {\n  components: {\n    PerformanceComponent,\n    GraphBarComponent,\n    GraphPizzaComponent\n  },\n  data: () => ({\n    dataConsultan: [],\n    selectConsultants: [],\n    addSelectConsultants: [],\n    removeSelectConsultants: [],\n    currentTabComponent: false,\n    statusComponent: false\n  }),\n  computed: {\n    ItemsConsultants() {\n      return this.$store.getters[\"consultant/GET_CONSULTANTS\"];\n    }\n\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  methods: {\n    async initialize() {\n      try {\n        const response = await this.$store.dispatch(\"consultant/INDEX_CONSULTANTS\");\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    addSelectBox() {\n      try {\n        const sizeSelect = this.selectConsultants.length;\n\n        if (sizeSelect > 0) {\n          for (let index = 0; index < this.selectConsultants.length; index++) {\n            const position = this.ItemsConsultants.findIndex(element => {\n              return element.co_usuario === this.selectConsultants[index];\n            });\n\n            if (position !== undefined) {\n              this.addSelectConsultants.push(this.ItemsConsultants[position]);\n              this.ItemsConsultants.splice(position, 1);\n              this.sortArray(this.addSelectConsultants);\n            }\n          }\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Seleccione al menos un consultor del listado.'\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    removeSelectBox() {\n      try {\n        const sizeSelect = this.removeSelectConsultants.length;\n\n        if (sizeSelect > 0) {\n          for (let index = 0; index < this.removeSelectConsultants.length; index++) {\n            const position = this.addSelectConsultants.findIndex(element => {\n              return element.co_usuario === this.removeSelectConsultants[index];\n            });\n\n            if (position !== undefined) {\n              this.ItemsConsultants.push(this.addSelectConsultants[position]);\n              this.addSelectConsultants.splice(position, 1);\n              this.sortArray(this.ItemsConsultants);\n            }\n          }\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: 'Error',\n            text: 'Seleccione al menos un consultor del listado.'\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    sortArray(arrayConsultants) {\n      try {\n        arrayConsultants.sort((a, b) => {\n          return a.no_usuario < b.no_usuario ? -1 : +(a.no_usuario > b.no_usuario);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    switchComponent(nameComponent) {\n      try {\n        this.currentTabComponent = nameComponent;\n        this.dataConsultan = this.addSelectConsultants;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiIA;AACA;AACA;AACA;AACA;EACAA;IACAC,oBADA;IAEAC,iBAFA;IAGAC;EAHA,CADA;EAMAC;IACAC,iBADA;IAEAC,qBAFA;IAGAC,wBAHA;IAIAC,2BAJA;IAKAC,0BALA;IAMAC;EANA,EANA;EAcAC;IACAC;MACA;IACA;;EAHA,CAdA;;EAmBAC;IACA;EACA,CArBA;;EAsBAC;IACA;MACA;QACA;MACA,CAFA,CAEA;QACAC;MACA;IACA,CAPA;;IAQAC;MACA;QACA;;QACA;UACA;YACA;cACA;YACA,CAFA;;YAGA;cACA;cACA;cACA;YACA;UACA;QACA,CAXA,MAWA;UACAC;YACAC,aADA;YAEAC,cAFA;YAGAC;UAHA;QAKA;MAEA,CArBA,CAqBA;QACAL;MACA;IACA,CAjCA;;IAkCAM;MACA;QACA;;QACA;UACA;YACA;cACA;YACA,CAFA;;YAGA;cACA;cACA;cACA;YACA;UACA;QACA,CAXA,MAWA;UACAJ;YACAC,aADA;YAEAC,cAFA;YAGAC;UAHA;QAKA;MACA,CApBA,CAoBA;QACAL;MACA;IACA,CA1DA;;IA2DAO;MACA;QACAC;UACA;QACA,CAFA;MAGA,CAJA,CAIA;QACAR;MACA;IACA,CAnEA;;IAoEAS;MACA;QACA;QACA;MACA,CAHA,CAGA;QACAT;MACA;IACA;;EA3EA;AAtBA","names":["components","PerformanceComponent","GraphBarComponent","GraphPizzaComponent","data","dataConsultan","selectConsultants","addSelectConsultants","removeSelectConsultants","currentTabComponent","statusComponent","computed","ItemsConsultants","created","methods","console","addSelectBox","Swal","icon","title","text","removeSelectBox","sortArray","arrayConsultants","switchComponent"],"sourceRoot":"src/components","sources":["Consultants.vue"],"sourcesContent":["<template>\r\n  <!-- <div> -->\r\n    <v-container \r\n      class=\"justify-content-center grey lighten-5\" fluid\r\n    >\r\n      <v-row\r\n        no-gutters\r\n        style=\"/*height: 220px;*/\"\r\n        class=\"center\"\r\n      >\r\n        <v-col\r\n        cols=\"12\"\r\n        md=\"12\"\r\n        sm=\"12\"\r\n        >\r\n          <v-card\r\n            class=\"border pa-2 border-secondary\"\r\n            outlined\r\n            tile\r\n          >\r\n            <v-simple-table >\r\n              <template v-slot:default>\r\n                  <tbody class=\"text-center\">\r\n                      <tr>\r\n                          <th colspan=\"1\" class=\"text-left border border-secondary table-active\">Período</th>\r\n                          <th scope=\"col\" class=\"text-center border border-secondary\"></th>\r\n                          <th  scope=\"col\" class=\"text-center border border-secondary\">Acci&oacute;n</th>\r\n                      </tr>\r\n                  <tr class=\"border border-secondary\">\r\n                    <th scope=\"row\" class=\"table-active\">Consultores</th>\r\n                    <td colspan=\"1\" class=\"border border-secondary\">\r\n                      <v-row\r\n                        no-gutters\r\n                      >\r\n                        <v-col cols=\"12\" md=\"5\" sm=\"12\" class=\"p-2\">\r\n                          <select size=\"6\" style=\"width: 223px;\" class=\"border border-secondary\" multiple v-model=\"selectConsultants\">\r\n                            <option\r\n                              v-for=\"(shape, i) in ItemsConsultants\"\r\n                              :key=\"i\"\r\n                              :value=\"shape.co_usuario\">\r\n                              {{ shape.no_usuario }}\r\n                            </option>\r\n                          </select>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"2\" sm=\"12\" class=\"p-4\">\r\n                          <div class=\"btn-group-vertical\">\r\n                            <v-btn\r\n                            v-if=\"ItemsConsultants.length > 0\"\r\n                              depressed\r\n                              x-small\r\n                              color=\"primary\"\r\n                              class=\"mb-2\"\r\n                              @click=\"addSelectBox()\"\r\n                            >\r\n                              &gt;&gt;\r\n                            </v-btn>\r\n                            <v-btn\r\n                              v-if=\"addSelectConsultants.length > 0\"\r\n                              depressed\r\n                              x-small\r\n                              color=\"error\"\r\n                              @click=\"removeSelectBox()\"\r\n                            >\r\n                              &lt;&lt;\r\n                            </v-btn>\r\n                          </div>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"5\" sm=\"12\" class=\"p-2\">\r\n                          <select size=\"6\" style=\"width: 223px;\" class=\"border border-secondary\" multiple v-model=\"removeSelectConsultants\">\r\n                            <option\r\n                              v-for=\"(shape, i) in addSelectConsultants\"\r\n                              :key=\"i\"\r\n                              :value=\"shape.co_usuario\"\r\n                              style=\"width: 223px;\">\r\n                              {{ shape.no_usuario }}\r\n                            </option>\r\n                          </select>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </td>\r\n                    <td v-if=\"addSelectConsultants.length > 0\">\r\n                      <div class=\"text-center btn-group-vertical pa-5\">\r\n                            <v-btn\r\n                              \r\n                              depressed\r\n                              x-small\r\n                              color=\"secondary\"\r\n                              class=\"mb-2\"\r\n                              @click=\"switchComponent('performance-component')\"\r\n                            >\r\n                              Relatório\r\n                            </v-btn>\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"info\"\r\n                              class=\"mb-2\"\r\n                              @click=\"switchComponent('graph-bar-component')\"\r\n                            >\r\n                              Gráfico Bar\r\n                            </v-btn>\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"success\"\r\n                              @click=\"switchComponent('graph-pizza-component')\"\r\n                            >\r\n                              Gráfico Pizza\r\n                            </v-btn>\r\n                        </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </v-simple-table>\r\n            <component\r\n              v-if=\"currentTabComponent\" \r\n              :is=\"currentTabComponent\"\r\n              @resetComponentValue=\"switchComponent\"\r\n              :parentData=\"dataConsultan\">\r\n            </component>\r\n          </v-card> \r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  <!-- </div> -->\r\n</template>\r\n\r\n<script>\r\nimport Swal from 'sweetalert2';\r\nimport PerformanceComponent from './PerformanceConsultants';\r\nimport GraphBarComponent from './GraphBar';\r\nimport GraphPizzaComponent from './GraphPizza';\r\nexport default {\r\n  components: {\r\n    PerformanceComponent,\r\n    GraphBarComponent,\r\n    GraphPizzaComponent\r\n  },\r\n  data: () => ({\r\n    dataConsultan: [],\r\n    selectConsultants: [],\r\n    addSelectConsultants: [],\r\n    removeSelectConsultants: [],\r\n    currentTabComponent: false,\r\n    statusComponent:false\r\n  }),\r\n  computed: {\r\n    ItemsConsultants() {\r\n      return this.$store.getters[\"consultant/GET_CONSULTANTS\"];\r\n    },\r\n  },\r\n  created () {\r\n    this.initialize()\r\n  },\r\n  methods: {\r\n    async initialize () {\r\n      try {\r\n        const response = await this.$store.dispatch(\"consultant/INDEX_CONSULTANTS\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    addSelectBox() {\r\n      try {\r\n        const sizeSelect = this.selectConsultants.length\r\n        if(sizeSelect > 0){\r\n          for (let index = 0; index < this.selectConsultants.length; index++){\r\n            const position = this.ItemsConsultants.findIndex((element) => {\r\n              return element.co_usuario === this.selectConsultants[index];\r\n            });\r\n            if (position !== undefined){\r\n              this.addSelectConsultants.push(this.ItemsConsultants[position]);\r\n              this.ItemsConsultants.splice(position, 1);\r\n              this.sortArray(this.addSelectConsultants);\r\n            }\r\n          }\r\n        }else{\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'Seleccione al menos un consultor del listado.',\r\n          });\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    removeSelectBox() {\r\n      try {\r\n        const sizeSelect = this.removeSelectConsultants.length;\r\n        if(sizeSelect > 0){\r\n          for (let index = 0; index < this.removeSelectConsultants.length; index++){\r\n            const position = this.addSelectConsultants.findIndex((element) => {\r\n              return element.co_usuario === this.removeSelectConsultants[index];\r\n            });\r\n            if (position !== undefined){\r\n              this.ItemsConsultants.push(this.addSelectConsultants[position]);\r\n              this.addSelectConsultants.splice(position, 1);\r\n              this.sortArray(this.ItemsConsultants);\r\n            }\r\n          }\r\n        }else{\r\n          Swal.fire({\r\n            icon: 'error',\r\n            title: 'Error',\r\n            text: 'Seleccione al menos un consultor del listado.',\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    sortArray(arrayConsultants) {\r\n      try {\r\n        arrayConsultants.sort((a,b) => {\r\n          return a.no_usuario < b.no_usuario ? -1 : + (a.no_usuario > b.no_usuario);\r\n        });\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    switchComponent(nameComponent) {\r\n      try {\r\n        this.currentTabComponent = nameComponent;\r\n        this.dataConsultan = this.addSelectConsultants;\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  tbody {\r\n    tr:hover{\r\n      background-color: transparent !important;\r\n    }\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}