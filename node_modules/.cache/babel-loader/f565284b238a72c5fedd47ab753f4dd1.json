{"ast":null,"code":"import { formatMonth } from \"../assets/util/util\";\nimport { calculationsOfAmounts } from \"../assets/util/util\";\nimport { formatAmounts } from \"../assets/util/util\";\nimport { organizeByConsultants } from \"../assets/util/util\";\nimport { alertDinamic } from \"../assets/util/util\";\nexport default {\n  props: ['parentData'],\n  data: () => ({\n    perfConsultants: [],\n    loading: false\n  }),\n  watch: {\n    parentData() {\n      if (this.parentData.length > 0) {\n        this.initialize();\n      } else {\n        this.perfConsultants = [];\n        this.$emit(\"resetComponentValue\", '');\n      }\n    },\n\n    loading(val) {\n      if (!val) return;\n      setTimeout(() => this.loading = false, 10000);\n    }\n\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  mounted() {\n    organizeByConsultants;\n    formatMonth;\n    calculationsOfAmounts;\n    formatAmounts;\n    alertDinamic;\n  },\n\n  methods: {\n    async initialize() {\n      this.loading = true;\n      const itemConsultants = this.parentData.map(v => {\n        return v.co_usuario;\n      });\n      const request = {\n        item_consultants: itemConsultants\n      };\n\n      try {\n        const response = await this.$store.dispatch(\"consultant/CONSULTANT_SHOW\", request);\n        const dataConsultan = response.data;\n        const sizeData = dataConsultan.length;\n\n        if (sizeData > 0) {\n          const itemsSelect = this.parentData;\n          const dataOrganizeConsultant = organizeByConsultants(dataConsultan, itemsSelect);\n          alertDinamic('success', 'No posee registros.');\n          this.perfConsultants = dataOrganizeConsultant;\n        } else {\n          this.perfConsultants = [];\n          alertDinamic('error', 'No posee registros.');\n        }\n\n        this.loading = false;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    organizeByConsultants,\n    formatMonth,\n    calculationsOfAmounts,\n    formatAmounts,\n    alertDinamic\n  }\n};","map":{"version":3,"mappings":"AAkEA;AACA;AACA;AACA;AACA;AAEA;EACAA,qBADA;EAEAC;IACAC,mBADA;IAEAC;EAFA,EAFA;EAMAC;IACAC;MACA;QACA;MACA,CAFA,MAGA;QACA;QACA;MACA;IACA,CATA;;IAUAF;MACA;MACAG;IACA;;EAbA,CANA;;EAqBAC;IACA;EACA,CAvBA;;EAwBAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA,CA9BA;;EA+BAC;IACA;MACA;MACA;QACA;MACA,CAFA;MAGA;QACAC;MADA;;MAGA;QACA;QAEA;QACA;;QAEA;UACA;UACA;UACAF;UACA;QACA,CALA,MAKA;UACA;UACAA;QACA;;QACA;MAEA,CAjBA,CAiBA;QACAG;MACA;IACA,CA7BA;;IA8BAP,qBA9BA;IA+BAC,WA/BA;IAgCAC,qBAhCA;IAiCAC,aAjCA;IAkCAC;EAlCA;AA/BA","names":["props","data","perfConsultants","loading","watch","parentData","setTimeout","created","mounted","organizeByConsultants","formatMonth","calculationsOfAmounts","formatAmounts","alertDinamic","methods","item_consultants","console"],"sourceRoot":"src/components","sources":["PerformanceConsultants.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <v-progress-linear\r\n      :active=\"loading\"\r\n      :indeterminate=\"loading\"\r\n      absolute\r\n      bottom\r\n      color=\"deep-purple accent-4\"\r\n    ></v-progress-linear>\r\n    <v-simple-table \r\n      dense\r\n      class=\"mt-2\"\r\n    >\r\n      <template v-slot:default>\r\n        <tbody\r\n          v-for=\"(item, i) in perfConsultants\"\r\n          :key=\"i\"\r\n        >\r\n          <tr>\r\n            <td colspan=\"5\" class=\"border border-secondary table-active\">\r\n              <span>{{ item[0].name }}</span>\r\n            </td>\r\n          </tr>\r\n          <tr >\r\n            <td class=\"text-center border border-secondary\" >\r\n              <strong>Periodo</strong>\r\n            </td>\r\n            <td class=\"text-center border border-secondary\">\r\n              <strong>Ganancias Netas</strong>\r\n            </td>\r\n            <td class=\"text-center border border-secondary\">\r\n              <strong>Costo Fijo</strong>\r\n            </td>\r\n            <td class=\"text-center border border-secondary\">\r\n              <strong>Comisi√≥n</strong>\r\n            </td>\r\n            <td class=\"text-center border border-secondary\">\r\n              <strong>Beneficio</strong>\r\n            </td>\r\n          </tr>\r\n          <tr\r\n            v-for=\"(lis, i) in item\"\r\n            :key=\"i\"\r\n          >\r\n            <td class=\"border border-secondary contentCapitalize\" style=\"width: 250px;\">{{ formatMonth(lis.month) }}</td>\r\n            <td class=\"text-right border border-secondary\">R$ {{ formatAmounts(lis.total_net_earnings)}}</td>\r\n            <td class=\"text-right border border-secondary\">R$ {{ formatAmounts(lis.fixed_cost) }}</td>\r\n            <td class=\"text-right border border-secondary\">R$ {{ formatAmounts(lis.total_commission) }}</td>\r\n            <td class=\"text-right border border-secondary\">R$ {{ formatAmounts(lis.total_lucro) }}</td>\r\n          </tr>\r\n          <tr>\r\n              <td class=\"border border-secondary table-active\" style=\"width: 250px;\"><strong>SALDO</strong></td>\r\n              <td class=\"text-right border border-secondary table-active\">R$ {{ formatAmounts(calculationsOfAmounts(item,'total_net_earnings')) }}</td>\r\n              <td class=\"text-right border border-secondary table-active\">R$ {{ formatAmounts(calculationsOfAmounts(item,'fixed_cost')) }}</td>\r\n              <td class=\"text-right border border-secondary table-active\">R$ {{ formatAmounts(calculationsOfAmounts(item,'total_commission')) }}</td>\r\n              <td class=\"text-right border border-secondary table-active\">R$ {{ formatAmounts(calculationsOfAmounts(item,'total_lucro',false)) }}</td>\r\n          </tr>\r\n          <tr class=\"espacio\"></tr>\r\n        </tbody>\r\n      </template>\r\n    </v-simple-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { formatMonth } from \"../assets/util/util\"\r\nimport { calculationsOfAmounts } from \"../assets/util/util\"\r\nimport { formatAmounts } from \"../assets/util/util\"\r\nimport { organizeByConsultants } from \"../assets/util/util\"\r\nimport { alertDinamic } from \"../assets/util/util\"\r\n\r\nexport default {\r\n  props: ['parentData'],\r\n  data: () => ({\r\n    perfConsultants: [],\r\n    loading: false,\r\n  }),\r\n  watch:{\r\n    parentData(){\r\n      if(this.parentData.length > 0) {\r\n        this.initialize()\r\n      }\r\n      else{\r\n        this.perfConsultants = []\r\n        this.$emit(\"resetComponentValue\", '');\r\n      }\r\n    },\r\n    loading (val) {\r\n      if (!val) return\r\n      setTimeout(() => (this.loading = false), 10000)\r\n    },\r\n  },\r\n  created() {\r\n    this.initialize();\r\n  },\r\n  mounted() {\r\n    organizeByConsultants;\r\n    formatMonth;\r\n    calculationsOfAmounts;\r\n    formatAmounts;\r\n    alertDinamic;\r\n  },\r\n  methods: {\r\n    async initialize(){\r\n      this.loading = true;\r\n      const itemConsultants = this.parentData.map((v) => {\r\n          return v.co_usuario\r\n      });\r\n      const request = {\r\n        item_consultants: itemConsultants\r\n      };\r\n      try {\r\n        const response = await this.$store.dispatch(\"consultant/CONSULTANT_SHOW\", request);\r\n\r\n        const dataConsultan = response.data;\r\n        const sizeData = dataConsultan.length;\r\n\r\n        if(sizeData > 0){\r\n          const itemsSelect = this.parentData;\r\n          const dataOrganizeConsultant = organizeByConsultants(dataConsultan, itemsSelect);\r\n          alertDinamic('success','No posee registros.');\r\n          this.perfConsultants = dataOrganizeConsultant;\r\n        }else{\r\n          this.perfConsultants = [];\r\n          alertDinamic('error','No posee registros.');\r\n        }\r\n        this.loading = false;\r\n        \r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    organizeByConsultants,\r\n    formatMonth,\r\n    calculationsOfAmounts,\r\n    formatAmounts,\r\n    alertDinamic\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  tbody {\r\n    tr:hover{\r\n      background-color: transparent !important;\r\n    }\r\n  }\r\n  .contentCapitalize{\r\n    text-transform: capitalize;\r\n  }\r\n  .espacio{\r\n    height:10px !important;\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}