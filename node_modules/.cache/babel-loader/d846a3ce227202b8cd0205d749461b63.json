{"ast":null,"code":"import PerformanceComponent from './PerformanceConsultants';\nimport GraphBarComponent from './GraphBar';\nimport GraphPizzaComponent from './GraphPizza';\nexport default {\n  // name: 'ConsultantsComponent',\n  components: {\n    PerformanceComponent,\n    GraphBarComponent,\n    GraphPizzaComponent\n  },\n  data: () => ({\n    dataConsultanDev: [],\n    selectConsultants: [],\n    addSelectConsultants: [],\n    removeSelectConsultants: [],\n    currentTabComponent: false\n  }),\n  computed: {\n    ItemsConsultants() {\n      return this.$store.getters[\"consultant/GET_CONSULTANTS\"];\n    } // currentProps() {\n    //   return  { addSelectConsultants: this.dataConsultanDev };\n    // },\n\n\n  },\n\n  created() {\n    this.initialize();\n  },\n\n  methods: {\n    async initialize() {\n      try {\n        const response = await this.$store.dispatch(\"consultant/INDEX_CONSULTANTS\");\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    addSelectBox() {\n      for (let index = 0; index < this.selectConsultants.length; index++) {\n        const position = this.ItemsConsultants.findIndex(element => {\n          return element.co_usuario == this.selectConsultants[index];\n        });\n\n        if (position !== undefined) {\n          this.addSelectConsultants.push(this.ItemsConsultants[position]); // console.log(this.addSelectConsultants)\n\n          this.ItemsConsultants.splice(position, 1);\n        }\n      }\n    },\n\n    removeSelectBox() {\n      for (let index = 0; index < this.removeSelectConsultants.length; index++) {\n        const position = this.addSelectConsultants.findIndex(element => {\n          return element.co_usuario == this.removeSelectConsultants[index];\n        });\n\n        if (position !== undefined) {\n          this.ItemsConsultants.push(this.addSelectConsultants[position]);\n          this.addSelectConsultants.splice(position, 1);\n          this.sortArray(this.ItemsConsultants);\n        }\n      }\n    },\n\n    sortArray(listConsultants) {\n      listConsultants.sort((a, b) => a.no_usuario < b.no_usuario ? -1 : +(a.no_usuario > b.no_usuario));\n    },\n\n    async searchConsultants(arrayConsultant) {\n      const itemConsultants = arrayConsultant.map(v => {\n        return v.co_usuario;\n      });\n      const request = {\n        item_consultants: itemConsultants\n      };\n\n      try {\n        const response = await this.$store.dispatch(\"consultant/CONSULTANT_SHOW\", request); //response service\n\n        const dataConsultan = response.data;\n        const listSelect = this.addSelectConsultants;\n        const dataOrganizeConsultant = dataConsultan.reduce(function (acumulador, valorActual) {\n          const name = listSelect.find(consultant => {\n            return consultant.co_usuario === valorActual.co_usuario;\n          });\n          let valorActualAssignName = Object.assign({\n            name: name.no_usuario\n          }, valorActual);\n          acumulador[valorActual.co_usuario] = acumulador[valorActualAssignName.co_usuario] || [];\n          acumulador[valorActual.co_usuario].push(valorActualAssignName);\n          return acumulador;\n        }, Object.create(null));\n        console.log(dataOrganizeConsultant);\n        return dataOrganizeConsultant;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async generateReport() {\n      try {\n        const response = await this.searchConsultants(this.addSelectConsultants);\n        this.listConsultants = response;\n        this.switchComponent('performance-component');\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    reportBar() {\n      try {\n        // const response = await this.searchConsultants(this.addSelectConsultants)\n        // this.listConsultants = response;\n        this.switchComponent('graph-bar-component');\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    reportPizza() {\n      try {\n        // const response = await this.searchConsultants(this.addSelectConsultants)\n        // this.listConsultants = response;\n        this.switchComponent('graph-pizza-component');\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    switchComponent(opc) {\n      this.currentTabComponent = opc;\n      this.dataConsultanDev = [];\n\n      switch (opc) {\n        case 'performance-component':\n          this.dataConsultanDev[\"list\"] = this.listConsultants, this.dataConsultanDev[\"selectConsultants\"] = this.addSelectConsultants;\n          break;\n\n        case 'grafica-component':\n          break;\n\n        case 'pizza-component':\n          break;\n\n        default:\n          break;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgIA;AACA;AACA;AACA;EACA;EACAA;IACAC,oBADA;IAEAC,iBAFA;IAGAC;EAHA,CAFA;EAOAC;IACAC,oBADA;IAEAC,qBAFA;IAGAC,wBAHA;IAIAC,2BAJA;IAKAC;EALA,EAPA;EAcAC;IACAC;MACA;IACA,CAHA,CAIA;IACA;IACA;;;EANA,CAdA;;EAsBAC;IACA;EACA,CAxBA;;EAyBAC;IACA;MACA;QACA;MACA,CAFA,CAEA;QACAC;MACA;IACA,CAPA;;IAQAC;MACA,oEACA;QACA;UACA;QACA,CAFA;;QAGA,4BACA;UACA,gEADA,CAEA;;UACA;QACA;MACA;IACA,CArBA;;IAsBAC;MACA,0EACA;QACA;UACA;QACA,CAFA;;QAGA,4BACA;UACA;UACA;UACA;QACA;MACA;IACA,CAnCA;;IAoCAC;MACAC;IACA,CAtCA;;IAuCA;MACA;QACA;MACA,CAFA;MAGA;QACAC;MADA;;MAGA;QACA,mFADA,CACA;;QAEA;QACA;QAEA;UACA;YACA;UACA,CAFA;UAGA;YAAAC;UAAA;UACAC;UACAA;UACA;QACA,CARA,EAQAC,mBARA;QASAR;QACA;MACA,CAjBA,CAiBA;QACAA;MACA;IACA,CAlEA;;IAoEA;MACA;QACA;QACA;QACA;MACA,CAJA,CAIA;QACAA;MACA;IACA,CA5EA;;IA6EAS;MACA;QACA;QACA;QACA;MACA,CAJA,CAIA;QACAT;MACA;IACA,CArFA;;IAsFAU;MACA;QACA;QACA;QACA;MACA,CAJA,CAIA;QACAV;MACA;IACA,CA9FA;;IA+FAW;MACA;MACA;;MACA;QACA;UACA,sDACA,sEADA;UAEA;;QACA;UACA;;QACA;UACA;;QAEA;UACA;MAXA;IAaA;;EA/GA;AAzBA","names":["components","PerformanceComponent","GraphBarComponent","GraphPizzaComponent","data","dataConsultanDev","selectConsultants","addSelectConsultants","removeSelectConsultants","currentTabComponent","computed","ItemsConsultants","created","methods","console","addSelectBox","removeSelectBox","sortArray","listConsultants","item_consultants","name","acumulador","Object","reportBar","reportPizza","switchComponent"],"sourceRoot":"src/components","sources":["Consultants.vue"],"sourcesContent":["<template>\r\n  <!-- <div> -->\r\n    <v-container \r\n      class=\" justifu-content-center grey lighten-5\" fluid\r\n    >\r\n      <v-row\r\n        no-gutters\r\n        style=\"/*height: 220px;*/\"\r\n        class=\"center\"\r\n      >\r\n        <v-col\r\n        cols=\"12\"\r\n        md=\"12\"\r\n        sm=\"12\"\r\n        >\r\n          <v-card\r\n            class=\"border pa-2 border-secondary\"\r\n            outlined\r\n            tile\r\n          >\r\n            <v-simple-table >\r\n              <template v-slot:default>\r\n                  <tbody class=\"text-center\">\r\n                      <tr class=\"\">\r\n                          <th colspan=\"1\" class=\"text-left border border-secondary table-active\">Período</th>\r\n                          <th scope=\"col\" class=\"text-center border border-secondary\"></th>\r\n                          <th scope=\"col\" class=\"text-center border border-secondary\">Accion</th>\r\n                      </tr>\r\n                  <tr class=\"border border-secondary\">\r\n                    <th scope=\"row\" class=\"table-active\">Consultores</th>\r\n                    <td colspan=\"1\" class=\"border border-secondary\">\r\n                      <v-row\r\n                        no-gutters\r\n                      >\r\n                        <v-col cols=\"12\" md=\"5\" sm=\"12\" class=\"p-2\">\r\n                          <font color=\"black\">\r\n                              <select size=\"6\" style=\"width: 223px;\" class=\"border border-secondary\" multiple v-model=\"selectConsultants\">\r\n                                  <option\r\n                                      v-for=\"(shape, i) in ItemsConsultants\"\r\n                                      :key=\"i\"\r\n                                      :value=\"shape.co_usuario\">\r\n                                      {{ shape.no_usuario }}\r\n                                  </option>\r\n                              </select>\r\n                          </font>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"2\" sm=\"12\" class=\"p-2\">\r\n                          <div class=\"p-2 btn-group-vertical\">\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"primary\"\r\n                              class=\"mb-2\"\r\n                              @click=\"addSelectBox()\"\r\n                            >\r\n                              &gt;&gt;\r\n                            </v-btn>\r\n                            <v-btn\r\n                              \r\n                              depressed\r\n                              x-small\r\n                              color=\"error\"\r\n                              @click=\"removeSelectBox()\"\r\n                            >\r\n                              &lt;&lt;\r\n                            </v-btn>\r\n                          </div>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" md=\"5\" sm=\"12\" class=\"p-2\">\r\n                          <select size=\"6\" style=\"width: 223px;\" class=\"border border-secondary\" multiple v-model=\"removeSelectConsultants\">\r\n                            <option\r\n                              v-for=\"(shape, i) in addSelectConsultants\"\r\n                              :key=\"i\"\r\n                              :value=\"shape.co_usuario\"\r\n                              style=\"width: 223px;\">\r\n                              {{ shape.no_usuario }}\r\n                            </option>\r\n                          </select>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </td>\r\n                    <td>\r\n                      <div class=\"btn-group-vertical pa-5\">\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"primary\"\r\n                              class=\"mb-2\"\r\n                              @click=\"generateReport()\"\r\n                            >\r\n                              Relatório\r\n                            </v-btn>\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"error\"\r\n                              class=\"mb-2\"\r\n                              @click=\"reportBar()\"\r\n                            >\r\n                              Gráfico\r\n                            </v-btn>\r\n                            <v-btn\r\n                              depressed\r\n                              x-small\r\n                              color=\"error\"\r\n                              @click=\"reportPizza()\"\r\n                            >\r\n                              Pizza\r\n                            </v-btn>\r\n                        </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </v-simple-table>\r\n            <component\r\n              v-if=\"currentTabComponent\" \r\n              :is=\"currentTabComponent\"\r\n              :parentData=\"dataConsultanDev\">\r\n            </component>\r\n          </v-card> \r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  <!-- </div> -->\r\n</template>\r\n\r\n<script>\r\nimport PerformanceComponent from './PerformanceConsultants';\r\nimport GraphBarComponent from './GraphBar';\r\nimport GraphPizzaComponent from './GraphPizza';\r\nexport default {\r\n  // name: 'ConsultantsComponent',\r\n  components: {\r\n    PerformanceComponent,\r\n    GraphBarComponent,\r\n    GraphPizzaComponent\r\n  },\r\n  data: () => ({\r\n    dataConsultanDev: [],\r\n    selectConsultants: [],\r\n    addSelectConsultants: [],\r\n    removeSelectConsultants: [],\r\n    currentTabComponent: false,\r\n  }),\r\n  computed: {\r\n    ItemsConsultants() {\r\n      return this.$store.getters[\"consultant/GET_CONSULTANTS\"];\r\n    },\r\n    // currentProps() {\r\n    //   return  { addSelectConsultants: this.dataConsultanDev };\r\n    // },\r\n  },\r\n  created () {\r\n    this.initialize()\r\n  },\r\n  methods: {\r\n    async initialize () {\r\n      try {\r\n        const response = await this.$store.dispatch(\"consultant/INDEX_CONSULTANTS\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    addSelectBox() {\r\n      for (let index = 0; index < this.selectConsultants.length; index++)\r\n      {\r\n        const position = this.ItemsConsultants.findIndex((element) => {\r\n          return element.co_usuario == this.selectConsultants[index];\r\n        });\r\n        if (position !== undefined)\r\n        {\r\n          this.addSelectConsultants.push(this.ItemsConsultants[position]);\r\n          // console.log(this.addSelectConsultants)\r\n          this.ItemsConsultants.splice(position, 1);\r\n        }\r\n      }\r\n    },\r\n    removeSelectBox() {\r\n      for (let index = 0; index < this.removeSelectConsultants.length; index++)\r\n      {\r\n        const position = this.addSelectConsultants.findIndex((element) => {\r\n          return element.co_usuario == this.removeSelectConsultants[index];\r\n        });\r\n        if (position !== undefined)\r\n        {\r\n          this.ItemsConsultants.push(this.addSelectConsultants[position]);\r\n          this.addSelectConsultants.splice(position, 1);\r\n          this.sortArray(this.ItemsConsultants)\r\n        }\r\n      }\r\n    },\r\n    sortArray(listConsultants) {\r\n      listConsultants.sort((a,b) => a.no_usuario < b.no_usuario ? -1 : +(a.no_usuario > b.no_usuario));\r\n    },\r\n    async searchConsultants(arrayConsultant){\r\n      const itemConsultants = arrayConsultant.map((v) => {\r\n          return v.co_usuario\r\n      });\r\n      const request = {\r\n        item_consultants: itemConsultants\r\n      };\r\n      try {\r\n        const response = await this.$store.dispatch(\"consultant/CONSULTANT_SHOW\", request);//response service\r\n        \r\n        const dataConsultan = response.data;\r\n        const listSelect = this.addSelectConsultants\r\n\r\n        const dataOrganizeConsultant = dataConsultan.reduce(function (acumulador, valorActual){\r\n          const name = listSelect.find((consultant) => { \r\n            return consultant.co_usuario === valorActual.co_usuario\r\n          });\r\n          let valorActualAssignName = Object.assign({name:name.no_usuario}, valorActual)\r\n          acumulador[valorActual.co_usuario] = acumulador[valorActualAssignName.co_usuario] || []\r\n          acumulador[valorActual.co_usuario].push(valorActualAssignName); \r\n          return acumulador;\r\n        }, Object.create(null));\r\n        console.log(dataOrganizeConsultant)\r\n        return dataOrganizeConsultant;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    async generateReport(){\r\n      try {\r\n        const response = await this.searchConsultants(this.addSelectConsultants)\r\n        this.listConsultants = response;\r\n        this.switchComponent('performance-component');\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    reportBar(){\r\n      try {\r\n        // const response = await this.searchConsultants(this.addSelectConsultants)\r\n        // this.listConsultants = response;\r\n        this.switchComponent('graph-bar-component');\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    reportPizza(){\r\n      try {\r\n        // const response = await this.searchConsultants(this.addSelectConsultants)\r\n        // this.listConsultants = response;\r\n        this.switchComponent('graph-pizza-component');\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    switchComponent(opc){\r\n      this.currentTabComponent = opc;\r\n      this.dataConsultanDev = [];\r\n      switch (opc) {\r\n        case 'performance-component':\r\n          this.dataConsultanDev[\"list\"] = this.listConsultants,\r\n          this.dataConsultanDev[\"selectConsultants\"] = this.addSelectConsultants\r\n          break;\r\n        case 'grafica-component':\r\n          break;\r\n        case 'pizza-component':\r\n          break;\r\n      \r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// .mytable .v-table tbody tr:not(:last-child) {\r\n//     border-bottom: none;\r\n// }\r\n\r\n// .v-data-table .v-data-table__wrapper table tbody tr th/*, .v-data-table .v-data-table__wrapper table thead tr th, .v-data-table .v-data-table__wrapper table tfoot tr th*/ {\r\n// border: 1px solid;\r\n// }\r\ntbody {\r\n    tr:hover{\r\n      background-color: transparent !important;\r\n    }\r\n}\r\n// /*.v-data-table  .v-data-table__wrapper*/    th {\r\n//     // tr{\r\n//       border: black 1px solid !important;\r\n//     // }\r\n// }\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}