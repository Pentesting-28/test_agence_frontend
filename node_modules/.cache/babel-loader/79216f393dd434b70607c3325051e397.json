{"ast":null,"code":"export default {\n  name: 'ConsultantsComponent',\n  data: () => ({\n    items: [{\n      name: 'Regional',\n      value: 'regional'\n    }, {\n      name: 'Sede',\n      value: 'campus'\n    }],\n    loading: false,\n    search: '',\n    dialog: false,\n    dialogDelete: false,\n    id_office: 0,\n    itemsPerPage: 5,\n    headers: [{\n      text: 'Nombre',\n      align: 'left',\n      sortable: false,\n      value: 'name',\n      class: 'length_text'\n    }, {\n      text: 'Tipo',\n      value: 'type',\n      class: 'length_text'\n    }, {\n      text: 'Fecha y hora',\n      value: 'created_at',\n      class: 'length_text'\n    }, {\n      text: 'Acción',\n      value: 'actions',\n      sortable: false,\n      class: 'length_text'\n    }],\n    desserts: [],\n    editedIndex: -1,\n    edit: false,\n    position_array: '',\n    editedItem: {\n      name: '',\n      type: '',\n      created_at: ''\n    },\n    defaultItem: {\n      name: '',\n      type: '',\n      created_at: ''\n    }\n  }),\n  computed: {\n    formTitle() {\n      return this.edit === false ? 'Nueva Oficina' : 'Editar Oficina';\n    },\n\n    ItemsOffices() {\n      return this.$store.getters[\"office/GET_OFFICES\"];\n    }\n\n  },\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n\n  },\n\n  created() {\n    this.initialize(); // Swal.fire({\n    //           icon: 'success',\n    //           title: 'Oficina registrada con éxito',\n    //         })\n  },\n\n  methods: {\n    async initialize() {\n      try {\n        const response = await this.$store.dispatch(\"office/INDEX_OFFICES\");\n        response.data;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    editItem(item) {\n      console.log(item, 'editar');\n      this.position_array = this.ItemsOffices.indexOf(item);\n      console.log(this.position_array, 'updated position');\n      this.edit = true;\n      this.id_office = item.id;\n      this.editedItem.name = item.name;\n      this.editedItem.type = item.type;\n      this.dialog = true; // let data = state.users.indexOf(payload)\n      // this.editedIndex = true;\n      // this.editedIndex = this.desserts.indexOf(item)\n      // this.editedItem = Object.assign({}, item)\n      // this.dialog = true\n    },\n\n    // deleteItem (item) {\n    //   this.editedIndex = this.desserts.indexOf(item)\n    //   this.editedItem = Object.assign({}, item)\n    //   this.dialogDelete = true\n    // },\n    deleteItemConfirm() {\n      this.desserts.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n        this.edit = false;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    async save() {\n      if (this.edit === true) {\n        // Object.assign(this.desserts[this.editedIndex], this.editedItem)\n        const request = {\n          id: this.id_office,\n          name: this.editedItem.name,\n          type: this.editedItem.type,\n          position_array: this.position_array\n        };\n\n        try {\n          const response = await this.$store.dispatch(\"office/OFFICE_UPDATE\", request);\n          console.log(response);\n          Swal.fire({\n            icon: 'success',\n            title: 'Oficina actualizada con éxito'\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        // this.desserts.push(this.editedItem)\n        const request = {\n          name: this.editedItem.name,\n          type: this.editedItem.type\n        };\n        console.log(request);\n\n        try {\n          const response = await this.$store.dispatch(\"office/OFFICE_STORE\", request);\n          console.log(response, 'registro con exito');\n          Swal.fire({\n            icon: 'success',\n            title: 'Oficina registrada con éxito'\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n\n      this.close();\n    },\n\n    async deleteItem(item) {\n      try {\n        Swal.fire({\n          title: 'Esta seguro que desea borrar la oficina?',\n          text: \"No podra revertir esto!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#E53935',\n          cancelButtonColor: 'secondary',\n          confirmButtonText: 'Si',\n          cancelButtonText: 'No'\n        }).then(async result => {\n          if (result.value) {\n            const request = {\n              position_array: this.ItemsOffices.indexOf(item),\n              ...item\n            };\n            console.log(request, '*******');\n            const response = await this.$store.dispatch(\"office/OFFICE_DELETE\", request);\n            response;\n            Swal.fire({\n              title: 'Eliminado!',\n              text: \"Oficina eliminada con éxito\",\n              icon: 'success',\n              confirmButtonColor: '#E53935'\n            });\n          }\n        }); // // this.editedIndex = this.desserts.indexOf(item)\n        // // this.editedItem = Object.assign({}, item)\n        // const request = {\n        //   position_array: this.ItemsOffices.indexOf(item),\n        //   ...item\n        // }\n        // console.log(request,'*******')\n        // const response = await this.$store.dispatch(\"office/OFFICE_DELETE\", request);\n        // response\n        // this.dialogDelete = true\n      } catch (error) {\n        console.log(error);\n      } // confirm('Are you sure you want to delete this item?') && this.desserts.splice(index, 1)\n\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgDA;EACAA,4BADA;EAEAC;IACAC,QACA;MACAF,gBADA;MAEAG;IAFA,CADA,EAKA;MACAH,YADA;MAEAG;IAFA,CALA,CADA;IAWAC,cAXA;IAYAC,UAZA;IAaAC,aAbA;IAcAC,mBAdA;IAeAC,YAfA;IAgBAC,eAhBA;IAiBAC,UACA;MACAC,cADA;MAEAC,aAFA;MAGAC,eAHA;MAIAV,aAJA;MAKAW;IALA,CADA,EAQA;MACAH,YADA;MAEAR,aAFA;MAGAW;IAHA,CARA,EAaA;MACAH,oBADA;MAEAR,mBAFA;MAGAW;IAHA,CAbA,EAkBA;MACAH,cADA;MAEAR,gBAFA;MAGAU,eAHA;MAIAC;IAJA,CAlBA,CAjBA;IA0CAC,YA1CA;IA2CAC,eA3CA;IA4CAC,WA5CA;IA6CAC,kBA7CA;IA8CAC;MACAnB,QADA;MAEAoB,QAFA;MAGAC;IAHA,CA9CA;IAmDAC;MACAtB,QADA;MAEAoB,QAFA;MAGAC;IAHA;EAnDA,EAFA;EA2DAE;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA;;EANA,CA3DA;EAmEAC;IACApB;MACAqB;IACA,CAHA;;IAIApB;MACAoB;IACA;;EANA,CAnEA;;EA2EAC;IACA,kBADA,CAEA;IACA;IACA;IACA;EACA,CAjFA;;EAkFAC;IACA;MACA;QACA;QACAC;MACA,CAHA,CAGA;QACAC;MACA;IACA,CARA;;IASAC;MACAD;MACA;MACAA;MACA;MACA;MACA;MACA;MACA,mBARA,CASA;MACA;MACA;MACA;MACA;IACA,CAvBA;;IAwBA;IACA;IACA;IACA;IACA;IACAE;MACA;MACA;IACA,CAhCA;;IAiCAC;MACA;MACA;QACA;QACA;QACA;MACA,CAJA;IAKA,CAxCA;;IAyCAC;MACA;MACA;QACA;QACA;MACA,CAHA;IAIA,CA/CA;;IAgDA;MACA,wBACA;QACA;QACA;UACAC,kBADA;UAEApC,0BAFA;UAGAoB,0BAHA;UAIAF;QAJA;;QAMA;UACA;UACAa;UACAM;YACAC,eADA;YAEAC;UAFA;QAIA,CAPA,CAOA;UACAR;QACA;MACA,CAnBA,MAoBA;QACA;QACA;UACA/B,0BADA;UAEAoB;QAFA;QAIAW;;QACA;UACA;UACAA;UACAM;YACAC,eADA;YAEAC;UAFA;QAIA,CAPA,CAOA;UACAR;QACA;MACA;;MACA;IACA,CAxFA;;IAyFA;MACA;QACAM;UACAE,iDADA;UAEA5B,+BAFA;UAGA2B,eAHA;UAIAE,sBAJA;UAKAC,6BALA;UAMAC,8BANA;UAOAC,uBAPA;UAQAC;QARA,GASAC,IATA,CASA;UACA;YACA;cACA3B,+CADA;cAEA;YAFA;YAIAa;YACA;YACAD;YACAO;cACAE,mBADA;cAEA5B,mCAFA;cAGA2B,eAHA;cAIAG;YAJA;UAMA;QACA,CAzBA,EADA,CA2BA;QACA;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA,CAtCA,CAsCA;QACAV;MACA,CAzCA,CA0CA;;IACA;;EApIA;AAlFA","names":["name","data","items","value","loading","search","dialog","dialogDelete","id_office","itemsPerPage","headers","text","align","sortable","class","desserts","editedIndex","edit","position_array","editedItem","type","created_at","defaultItem","computed","formTitle","ItemsOffices","watch","val","created","methods","response","console","editItem","deleteItemConfirm","close","closeDelete","id","Swal","icon","title","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then"],"sourceRoot":"src/components","sources":["Consultants.vue"],"sourcesContent":["<template>\r\n  <!-- <div > -->\r\n    <!-- <h1>{{ msg }}</h1>\r\n    <p>\r\n      For a guide and recipes on how to configure / customize this project,<br>\r\n      check out the\r\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\r\n    </p>\r\n    <h3>Installed CLI Plugins</h3>\r\n    <ul>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\" target=\"_blank\" rel=\"noopener\">router</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\r\n    </ul>\r\n    <h3>Essential Links</h3>\r\n    <ul>\r\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\r\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\r\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\r\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\r\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\r\n    </ul>\r\n    <h3>Ecosystem</h3>\r\n    <ul>\r\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\r\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\r\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\r\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\r\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\r\n    </ul> -->\r\n  <!-- </div> -->\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col col-md-4\">\r\n            Column\r\n            </div>\r\n            <div class=\"col col-md-4\">\r\n            Column\r\n            </div>\r\n            <div class=\"col col-md-4\">\r\n            Column\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ConsultantsComponent',\r\n  data: () => ({\r\n    items: [\r\n      {\r\n        name: 'Regional',\r\n        value:'regional'\r\n      },\r\n      {\r\n        name: 'Sede',\r\n        value:'campus'\r\n      }\r\n    ],\r\n    loading: false,\r\n    search: '',\r\n    dialog: false,\r\n    dialogDelete: false,\r\n    id_office: 0,\r\n    itemsPerPage: 5,\r\n    headers: [\r\n      { \r\n        text: 'Nombre',\r\n        align: 'left',\r\n        sortable: false,\r\n        value: 'name',\r\n        class: 'length_text'\r\n      },\r\n      { \r\n        text: 'Tipo',\r\n        value: 'type',\r\n        class: 'length_text'\r\n      },\r\n      { \r\n        text: 'Fecha y hora',\r\n        value: 'created_at',\r\n        class: 'length_text'\r\n      },\r\n      { \r\n        text: 'Acción',\r\n        value: 'actions',\r\n        sortable: false,\r\n        class: 'length_text'\r\n      },\r\n    ],\r\n    desserts: [],\r\n    editedIndex: -1,\r\n    edit: false,\r\n    position_array: '',\r\n    editedItem: {\r\n      name: '',\r\n      type: '',\r\n      created_at: '',\r\n    },\r\n    defaultItem: {\r\n      name: '',\r\n      type: '',\r\n      created_at: '',\r\n    },\r\n  }),\r\n  computed: {\r\n    formTitle () {\r\n      return this.edit === false ? 'Nueva Oficina' : 'Editar Oficina'\r\n    },\r\n    ItemsOffices() {\r\n      return this.$store.getters[\"office/GET_OFFICES\"];\r\n    },\r\n  },\r\n  watch: {\r\n    dialog (val) {\r\n      val || this.close()\r\n    },\r\n    dialogDelete (val) {\r\n      val || this.closeDelete()\r\n    },\r\n  },\r\n  created () {\r\n    this.initialize()\r\n    // Swal.fire({\r\n    //           icon: 'success',\r\n    //           title: 'Oficina registrada con éxito',\r\n    //         })\r\n  },\r\n  methods: {\r\n    async initialize () {\r\n      try {\r\n        const response = await this.$store.dispatch(\"office/INDEX_OFFICES\");\r\n        response.data\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    editItem (item) {\r\n      console.log(item,'editar')\r\n      this.position_array = this.ItemsOffices.indexOf(item)\r\n      console.log(this.position_array,'updated position')\r\n      this.edit = true;\r\n      this.id_office = item.id;\r\n      this.editedItem.name = item.name;\r\n      this.editedItem.type = item.type;\r\n      this.dialog = true;\r\n      // let data = state.users.indexOf(payload)\r\n      // this.editedIndex = true;\r\n      // this.editedIndex = this.desserts.indexOf(item)\r\n      // this.editedItem = Object.assign({}, item)\r\n      // this.dialog = true\r\n    },\r\n    // deleteItem (item) {\r\n    //   this.editedIndex = this.desserts.indexOf(item)\r\n    //   this.editedItem = Object.assign({}, item)\r\n    //   this.dialogDelete = true\r\n    // },\r\n    deleteItemConfirm () {\r\n      this.desserts.splice(this.editedIndex, 1)\r\n      this.closeDelete()\r\n    },\r\n    close () {\r\n      this.dialog = false\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n        this.editedIndex = -1\r\n        this.edit = false;\r\n      });\r\n    },\r\n    closeDelete () {\r\n      this.dialogDelete = false\r\n      this.$nextTick(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n        this.editedIndex = -1\r\n      });\r\n    },\r\n    async save() {\r\n      if (this.edit === true)\r\n      {\r\n        // Object.assign(this.desserts[this.editedIndex], this.editedItem)\r\n        const request = {\r\n          id: this.id_office,\r\n          name: this.editedItem.name,\r\n          type: this.editedItem.type,\r\n          position_array: this.position_array\r\n        };\r\n        try {\r\n          const response = await this.$store.dispatch(\"office/OFFICE_UPDATE\", request);\r\n          console.log(response);\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: 'Oficina actualizada con éxito',\r\n          })\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n      else{\r\n        // this.desserts.push(this.editedItem)\r\n        const request = {\r\n          name: this.editedItem.name,\r\n          type: this.editedItem.type,\r\n        }\r\n        console.log(request)\r\n        try {\r\n          const response = await this.$store.dispatch(\"office/OFFICE_STORE\", request);\r\n          console.log(response,'registro con exito');\r\n          Swal.fire({\r\n            icon: 'success',\r\n            title: 'Oficina registrada con éxito',\r\n          })\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n      this.close()\r\n    },\r\n    async deleteItem(item) {\r\n      try {\r\n        Swal.fire({\r\n          title: 'Esta seguro que desea borrar la oficina?',\r\n          text: \"No podra revertir esto!\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#E53935',\r\n          cancelButtonColor: 'secondary',\r\n          confirmButtonText: 'Si',\r\n          cancelButtonText: 'No'\r\n        }).then(async (result) => {\r\n          if (result.value) {\r\n            const request = {\r\n              position_array: this.ItemsOffices.indexOf(item),\r\n              ...item\r\n            }\r\n            console.log(request,'*******')\r\n            const response = await this.$store.dispatch(\"office/OFFICE_DELETE\", request);\r\n            response;\r\n            Swal.fire({\r\n              title: 'Eliminado!',\r\n              text: \"Oficina eliminada con éxito\",\r\n              icon: 'success',\r\n              confirmButtonColor: '#E53935',\r\n            })\r\n          }\r\n        })\r\n        // // this.editedIndex = this.desserts.indexOf(item)\r\n        // // this.editedItem = Object.assign({}, item)\r\n        \r\n        // const request = {\r\n        //   position_array: this.ItemsOffices.indexOf(item),\r\n        //   ...item\r\n        // }\r\n        // console.log(request,'*******')\r\n        // const response = await this.$store.dispatch(\"office/OFFICE_DELETE\", request);\r\n        // response\r\n        // this.dialogDelete = true\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n      // confirm('Are you sure you want to delete this item?') && this.desserts.splice(index, 1)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}